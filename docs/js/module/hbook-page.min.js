!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):n()}(this,function(){"use strict";var e=function(e,n){this.options=n,this.$element=$(e),this.init()};e.prototype.init=function(){this.create(this.$element,this.options),this.bindEvent(this.$element,this.options)},e.prototype.create=function(e,n){e.addClass("page").empty(),n.current>1?e.append('<a href="javascript:;" class="prevPage">&laquo;</a>'):(e.remove(".prevPage"),e.append('<span class="disabled">&laquo;</span>')),1!=n.current&&n.current>=4&&4!=n.pageCount&&e.append('<a href="javascript:;" class="number">1</a>'),n.current-2>2&&n.current<=n.pageCount&&n.pageCount>5&&e.append('<span class="more">...</span>');var t=n.current-2,a=n.current+2;for((t>1&&n.current<4||1==n.current)&&a++,n.current>n.pageCount-4&&n.current>=n.pageCount&&t--;t<=a;t++)t<=n.pageCount&&t>=1&&(t!=n.current?e.append('<a href="javascript:;" class="number">'+t+"</a>"):e.append('<span class="current">'+t+"</span>"));n.current+2<n.pageCount-1&&n.current>=1&&n.pageCount>5&&e.append('<span class="more">...</span>'),n.current!=n.pageCount&&n.current<n.pageCount-2&&4!=n.pageCount&&e.append('<a href="javascript:;" class="number">'+n.pageCount+"</a>"),n.current<n.pageCount?e.append('<a href="javascript:;" class="nextPage">&raquo;</a>'):(e.remove(".nextPage"),e.append('<span class="disabled">&raquo;</span>'))},e.prototype.bindEvent=function(){var e=this;e.$element.off("click"),e.$element.on("click","a.number",function(){var n=parseInt($(this).text());e.create(e.$element,{current:n,pageCount:e.options.pageCount}),"function"==typeof e.options.callback&&e.options.callback(n)}),e.$element.on("click","a.prevPage",function(){var n=parseInt(e.$element.children("span.current").text());e.create(e.$element,{current:n-1,pageCount:e.options.pageCount}),"function"==typeof e.options.callback&&e.options.callback(n-1)}),e.$element.on("click","a.nextPage",function(){var n=parseInt(e.$element.children("span.current").text());e.create(e.$element,{current:n+1,pageCount:e.options.pageCount}),"function"==typeof e.options.callback&&e.options.callback(n+1)}),e.$element.on("click","a.gotoPage",function(){var n=e.$element.children("input.gotoInput").val();if(""!=n){var t=parseInt(n);t&&t<=e.options.pageCount&&(e.create(e.$element,{current:t,pageCount:e.options.pageCount}),"function"==typeof e.options.callback&&e.options.callback(t))}})},$.fn.page=function(n){var t=$.extend($.fn.page.defaults,n);return this.each(function(){new e(this,t)})},$.fn.page.defaults={current:1,pageCount:10,callback:function(e){}}});